<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>login test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="login test">
</head>
<body>
    <form id="form1" action="localhost:5000/try/login">
        <h2>
            <div class="inputbox">
                <input type="text" placeholder="用户名" name="name">
            </div>
            <div class="inputbox">
                <input type="password" placeholder="密码" name="password">
            </div>
            <input id="sub" type="submit" value="登录">
        </h2>
    </form>
</body>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript">
    let sub  = document.getElementById('sub')
    sub.onclick = function login(event) {
        event.preventDefault()
        $.ajax({
        //几个参数需要注意一下
            type: "POST",//方法类型
            dataType: "json",//预期服务器返回的数据类型
            url: "http://10.89.27.249:5000/try/login" ,
            data: $('#form1').serialize(),
            success: function (result) {
                console.log(result);//打印服务端返回的数据(调试用)
                if(result===1132131)
                {
                    history.pushState('','','http://10.89.27.249:5000/index')
                    location.reload()
                }
                else{
                    alert("账号或者密码发射错误");
                }


            },
            error : function() {
                alert("密码错误,跳转失败！");
            }
        });
    }
</script>
</html>